class TotalLiteMenu{constructor(t){this.container=t.container,this.menu={root:document.createElement("div")},this.menu.root.classList.add("total-lite-menu"),this.hidden=!1,this.hide(),this.container.appendChild(this.menu.root)}addItem(t){if(t.parent in this.menu){const e=document.createElement("div");if(e.classList.add("total-lite-menu-item"),e.classList.add(t.id),"data"in t)for(let[i,s]of Object.entries(t.data))e.dataset[i]=s;e.innerHTML=t.name,e.addEventListener("mousedown",(e=>{e.target.classList.contains("inactive")||(e.stopPropagation(),this.hide(),"onClick"in t&&null!=t.onClick&&t.onClick(e))})),this.menu[t.parent].appendChild(e)}}addSeparator(){const t=document.createElement("hr");this.menu.root.appendChild(t)}show(t,e){this.hidden&&(this.menu.root.style.display="block",this.menu.root.style.left=Math.min(t,window.innerWidth-this.menu.root.offsetWidth)-8+"px",this.menu.root.style.top=Math.min(e,window.innerHeight-this.menu.root.offsetHeight)-8+"px",this.hidden=!1,this.container.addEventListener("click",this.unclick.bind(this)))}hide(t="all"){if(!this.hidden)for(const[e,i]of Object.entries(this.menu))"all"==t?(i.style.display="none",this.hidden=!0,this.container.removeEventListener("click",this.unclick)):"submenus"==t&&"root"!=e&&(i.style.display="none")}unclick(t){for(const e of t.composedPath())if("DIV"==e.nodeName&&e.hasClass("total-lite-menu"))return;this.hide()}visible(){return!this.hidden}enable(t="all"){if("all"==t)for(const t of this.menu.root.getElementsByClassName("total-lite-menu-item"))t.classList.remove("inactive");else{const e=this.menu.root.getElementsByClassName(t)[0];if(e&&(e.classList.remove("inactive"),e.getElementsByClassName("total-lite-menu").length))for(const t of e.getElementsByClassName("total-lite-menu")[0].getElementsByClassName("total-lite-menu-item"))t.classList.remove("inactive")}}disable(t="all"){if("all"==t)for(const t of this.menu.root.getElementsByClassName("total-lite-menu-item"))t.classList.add("inactive");else{const e=this.menu.root.getElementsByClassName(t)[0];e&&e.classList.add("inactive")}}position(){return{x:parseInt(this.menu.root.style.left.replace("px","")),y:parseInt(this.menu.root.style.top.replace("px",""))}}identify(t){return"classList"in t&&(t.classList.contains("total-lite-menu")||t.classList.contains("total-lite-menu-item"))}}